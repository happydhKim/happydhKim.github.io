---
title: "Heap"
excerpt: "힙"
categories: 
  - datastructure
comments: true
date: 2019-08-16
# last_modified_at: 2019-08-12T20:21:00+09:00
tag: 
    - datastructure
    - java
    - js
    - Heap
---
### Heap (힙)
- 힙(heap) 은 최댓값 또는 최솟값을 빠르게 찾아낼 수 있는 트리형 자료구조이다.
- 힙은 완전이진트리 형식을 따르며 모든 부모 노드의 값이 자식 노드들의 값과 일정한 대소 관계를 가지게 되는 규칙을 가지고 있다.
- 또한 자식노드 사이의 상관관계는 없으므로 유의하여야 한다.
- `부모 노드의 값이 자식 노드의 값보다 크다면`(key(부모노드) >= key(자식노드)) **최대 힙(Max Heap)**, `부모 노드의 값이 자식 노드의 값보다 작다면` (key(부모노드) <= key(자식노드)) **최소 힙(Min Heap)** 으로 부른다.
- 힙의 규칙에 따라 트리의 가장 상단에는 최댓값 또는 최솟값이 있는 것이 자명하기 때문에, O(1) 만에 최댓값과 최솟값을 찾을 수 있다.

#### 배열을 이용한 힙의 구현
- `A[i]`에 대응되는 노드의 왼쪽 자손은 `A[2*i+1]`에 대응된다.
- `A[i]`에 대응되는 노드의 오른쪽 자손은 `A[2*i+2]`에 대응된다.
- `A[i]`에 대응되는 노드의 부모는 `A[(i-1)/2]`에 대응된다.

```java
import java.util.ArrayList;
import java.util.Scanner;

public class Heap {
	static ArrayList<Integer> heap;

	static void pushHeap(int newValue) {
		heap.add(newValue);
		int idx = heap.size() - 1;
		while (idx > 0 && heap.get((idx - 1) / 2) < heap.get(idx)) {
			int temp = heap.get((idx - 1) / 2);
			heap.set((idx - 1) / 2, heap.get(idx));
			heap.set(idx, temp);
			idx = (idx - 1) / 2;
		}
	}

	static void popHeap() {
		heap.remove(0);
		int here = 0;
		while (true) {
			int left = here * 2 + 1;
			int right = here * 2 + 2;
			if (left >= heap.size()) {
				break;
			}
			int next = here;
			if (heap.get(next) < heap.get(left)) {
				next = left;
			}
			if (right < heap.size() && heap.get(next) < heap.get(right)) {
				next = right;
			}
			if (next == here) {
				break;
			}
			int temp = heap.get(next);
			heap.set(next, heap.get(here));
			heap.set(here, temp);
			here = next;
		}
	}

	public static void main(String args[]) {
		Scanner sc = new Scanner(System.in);
		heap = new ArrayList<>();
		pushHeap(10);
		sc.close();
	}
}
```